import{N as v,O as w,P as E,R as l,Y as O,_ as g,ea as z,f as x,g as y,h,kc as M,lc as R,ma as C,mc as D,na as V,nc as a,o as b,oc as F,pc as c,ta as S,ua as T,x as k,y as m,yc as B}from"./chunk-Z7QZQF3E.js";var L=class{};function H(i){return i&&typeof i.connect=="function"&&!(i instanceof y)}var u=(function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i})(u||{}),I=class{viewCacheSize=20;_viewCache=[];applyChanges(s,e,t,n,r){s.forEachOperation((o,d,f)=>{let _,p;if(o.previousIndex==null){let A=()=>t(o,d,f);_=this._insertView(A,f,e,n(o)),p=_?u.INSERTED:u.REPLACED}else f==null?(this._detachAndCacheView(d,e),p=u.REMOVED):(_=this._moveView(d,f,e,n(o)),p=u.MOVED);r&&r({context:_?.context,operation:p,record:o})})}detach(){for(let s of this._viewCache)s.destroy();this._viewCache=[]}_insertView(s,e,t,n){let r=this._insertViewFromCache(e,t);if(r){r.context.$implicit=n;return}let o=s();return t.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(s,e){let t=e.detach(s);this._maybeCacheView(t,e)}_moveView(s,e,t,n){let r=t.get(s);return t.move(r,e),r.context.$implicit=n,r}_maybeCacheView(s,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(s);else{let t=e.indexOf(s);t===-1?s.destroy():e.remove(t)}}_insertViewFromCache(s,e){let t=this._viewCache.pop();return t&&e.insert(t,s),t||null}};var N=20,W=(()=>{class i{_ngZone=l(g);_platform=l(D);_renderer=l(C).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new h;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=N){return this._platform.isBrowser?new x(t=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=e>0?this._scrolled.pipe(m(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):b()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(k(r=>!r||n.indexOf(r)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,e)&&t.push(r)}),t}_scrollableContainsElement(e,t){let n=B(t),r=e.getElementRef().nativeElement;do if(n==r)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Qe=(()=>{class i{elementRef=l(z);scrollDispatcher=l(W);ngZone=l(g);dir=l(M,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new h;_renderer=l(V);_cleanupScroll;_elementScrolled=new h;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,n=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=n?e.end:e.start),e.right==null&&(e.right=n?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&c()!=a.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),c()==a.INVERTED?e.left=e.right:c()==a.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;F()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",n="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?n:t:e=="end"&&(e=o?t:n),o&&c()==a.INVERTED?e==t?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:o&&c()==a.NEGATED?e==t?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==t?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(t){return new(t||i)};static \u0275dir=T({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return i})(),j=20,Ke=(()=>{class i{_platform=l(D);_listeners;_viewportSize=null;_change=new h;_document=l(O);constructor(){let e=l(g),t=l(C).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=r=>this._change.next(r);this._listeners=[t.listen("window","resize",n),t.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),n=e.documentElement,r=n.getBoundingClientRect(),o=-r.top||e.body?.scrollTop||t.scrollY||n.scrollTop||0,d=-r.left||e.body?.scrollLeft||t.scrollX||n.scrollLeft||0;return{top:o,left:d}}change(e=j){return e>0?this._change.pipe(m(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||i)};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Xe=new E("CDK_VIRTUAL_SCROLL_VIEWPORT");var P=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=S({type:i});static \u0275inj=w({})}return i})(),Je=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=S({type:i});static \u0275inj=w({imports:[R,P,R,P]})}return i})();export{L as a,H as b,u as c,I as d,W as e,Qe as f,Ke as g,Xe as h,P as i,Je as j};
