import{a as it,b as at}from"./chunk-ZYSQTO5S.js";import{a as ot}from"./chunk-TJA7MBHB.js";import{a as G,b as J,c as K,d as Q,e as U,f as X,g as Y,h as Z,i as tt,j as et,k as nt}from"./chunk-6HPAY4DL.js";import{a as W,b as F}from"./chunk-PQKWKBLX.js";import"./chunk-YRW4GBFK.js";import{a as V,b as L,c as H,f as j,h as $}from"./chunk-AJVMF73T.js";import"./chunk-4GZB6F7U.js";import"./chunk-PMF3TIP7.js";import"./chunk-KMGLOWHO.js";import{Ea as C,Fb as w,Ga as _,Ka as u,La as n,Ma as e,Na as p,Ra as l,Sa as m,Sb as k,Tb as S,Xb as D,Ya as h,cc as E,dc as A,dd as I,ed as z,fc as T,fd as B,gc as q,gd as N,ia as r,jb as b,jc as R,kb as i,lb as s,mb as M,oa as f,sa as x,vb as O,wb as v,x as P,xa as d,xb as y}from"./chunk-Z7QZQF3E.js";function ct(t,o){t&1&&p(0,"mat-spinner",9)}function st(t,o){if(t&1&&(n(0,"div",13),i(1),e(),n(2,"div",14),i(3,"All time"),e()),t&2){let a=h();r(),s((a.stats.totalVisitors==null?null:a.stats.totalVisitors.toLocaleString())||"0")}}function dt(t,o){t&1&&p(0,"mat-spinner",9)}function lt(t,o){if(t&1&&(n(0,"div",13),i(1),e(),n(2,"div",32),i(3,"Active engagement"),e()),t&2){let a=h();r(),s((a.stats.visitorsThisWeek==null?null:a.stats.visitorsThisWeek.toLocaleString())||"0")}}function mt(t,o){t&1&&p(0,"mat-spinner",9)}function gt(t,o){if(t&1&&(n(0,"div",13),i(1),e(),n(2,"div",14),i(3,"Total views"),e()),t&2){let a=h();r(),s((a.stats.pageViews==null?null:a.stats.pageViews.toLocaleString())||"0")}}function pt(t,o){t&1&&(n(0,"th",33),i(1,"Order #"),e())}function ft(t,o){if(t&1&&(n(0,"td",34),i(1),e()),t&2){let a=o.$implicit;r(),s(a.orderNumber)}}function Ct(t,o){t&1&&(n(0,"th",33),i(1,"Customer"),e())}function _t(t,o){if(t&1&&(n(0,"td",34),i(1),e()),t&2){let a=o.$implicit;r(),s(a.customerName)}}function ut(t,o){t&1&&(n(0,"th",33),i(1,"Items"),e())}function ht(t,o){if(t&1&&(n(0,"td",34),i(1),e()),t&2){let a=o.$implicit;r(),s(a.items)}}function Mt(t,o){t&1&&(n(0,"th",33),i(1,"Total"),e())}function Ot(t,o){if(t&1&&(n(0,"td",34),i(1),e()),t&2){let a=o.$implicit;r(),M("$",a.total.toFixed(2))}}function Pt(t,o){t&1&&(n(0,"th",33),i(1,"Status"),e())}function xt(t,o){if(t&1&&(n(0,"td",34)(1,"mat-chip"),i(2),O(3,"titlecase"),e()()),t&2){let a=o.$implicit;r(),b("status-"+a.status),r(),M(" ",v(3,3,a.status)," ")}}function bt(t,o){t&1&&(n(0,"th",33),i(1,"Date"),e())}function vt(t,o){if(t&1&&(n(0,"td",34),i(1),O(2,"date"),e()),t&2){let a=o.$implicit;r(),s(y(2,1,a.date,"short"))}}function yt(t,o){t&1&&p(0,"tr",35)}function wt(t,o){t&1&&p(0,"tr",36)}var Gt=(()=>{class t{analyticsService;router;route;cdr;stats={totalOrders:142,ordersLastWeek:23,totalPhotos:0,revenueThisMonth:8450,pendingOrders:5};loadingAnalytics=!0;routerSubscription;isInitialLoad=!0;recentOrders=[{id:"1",orderNumber:"ORD-2026-001",customerName:"Sarah Johnson",items:3,total:245,status:"processing",date:new Date("2026-01-31T14:30:00")},{id:"2",orderNumber:"ORD-2026-002",customerName:"Michael Chen",items:1,total:89.99,status:"pending",date:new Date("2026-01-31T11:15:00")},{id:"3",orderNumber:"ORD-2026-003",customerName:"Emily Rodriguez",items:5,total:425.5,status:"shipped",date:new Date("2026-01-30T16:45:00")},{id:"4",orderNumber:"ORD-2026-004",customerName:"David Thompson",items:2,total:178,status:"pending",date:new Date("2026-01-30T09:20:00")},{id:"5",orderNumber:"ORD-2026-005",customerName:"Jessica Martinez",items:4,total:312.75,status:"completed",date:new Date("2026-01-29T13:10:00")}];displayedColumns=["orderNumber","customer","items","total","status","date"];constructor(a,g,c,rt){this.analyticsService=a,this.router=g,this.route=c,this.cdr=rt}ngOnInit(){this.loadAnalyticsSummary(),this.routerSubscription=this.router.events.pipe(P(a=>a instanceof E)).subscribe(a=>{if(this.isInitialLoad){this.isInitialLoad=!1;return}a.urlAfterRedirects.includes("/admin/dashboard")&&(console.log("[Dashboard] Dashboard route detected, reloading analytics summary"),this.loadAnalyticsSummary())})}ngOnDestroy(){this.routerSubscription&&this.routerSubscription.unsubscribe()}loadAnalyticsSummary(){this.loadingAnalytics=!0,this.cdr.detectChanges(),this.analyticsService.getStats().subscribe({next:a=>{this.stats.totalVisitors=a.totalVisitors,this.stats.visitorsThisWeek=a.visitorsThisWeek,this.stats.pageViews=a.pageViews,this.loadingAnalytics=!1,this.cdr.detectChanges()},error:a=>{console.error("[Dashboard] Failed to load analytics:",a),this.loadingAnalytics=!1,this.cdr.detectChanges()}})}getStatusClass(a){return`status-${a}`}static \u0275fac=function(g){return new(g||t)(f(ot),f(T),f(A),f(w))};static \u0275cmp=x({type:t,selectors:[["app-admin-dashboard"]],decls:93,vars:7,consts:[[1,"admin-page","dashboard"],[1,"admin-page-header"],[1,"header-content"],[1,"subtitle"],[1,"stats-grid"],[1,"stat-card","visitors"],[1,"stat-icon"],[1,"stat-info"],[1,"stat-label"],["diameter","30"],[1,"stat-card","visitors-week"],[1,"stat-card","pageviews"],[1,"stat-card","photos"],[1,"stat-value"],[1,"stat-change","neutral"],[1,"analytics-quick-link"],[1,"quick-link-content"],[1,"link-info"],["mat-raised-button","","color","primary","routerLink","/admin/analytics"],[1,"recent-orders"],["mat-button","","routerLink","/admin/orders"],["mat-table","",1,"orders-table",3,"dataSource"],["matColumnDef","orderNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customer"],["matColumnDef","items"],["matColumnDef","total"],["matColumnDef","status"],["matColumnDef","date"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","order-row",4,"matRowDef","matRowDefColumns"],[1,"stat-change","positive"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"order-row"]],template:function(g,c){g&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),i(4,"Dashboard"),e(),n(5,"p",3),i(6,"Welcome back! Here's what's happening with your store."),e()()(),n(7,"div",4)(8,"mat-card",5)(9,"mat-card-content")(10,"div",6)(11,"mat-icon"),i(12,"people"),e()(),n(13,"div",7)(14,"div",8),i(15,"Total Visitors"),e(),C(16,ct,1,0,"mat-spinner",9)(17,st,4,1),e()()(),n(18,"mat-card",10)(19,"mat-card-content")(20,"div",6)(21,"mat-icon"),i(22,"trending_up"),e()(),n(23,"div",7)(24,"div",8),i(25,"Visitors This Week"),e(),C(26,dt,1,0,"mat-spinner",9)(27,lt,4,1),e()()(),n(28,"mat-card",11)(29,"mat-card-content")(30,"div",6)(31,"mat-icon"),i(32,"visibility"),e()(),n(33,"div",7)(34,"div",8),i(35,"Page Views"),e(),C(36,mt,1,0,"mat-spinner",9)(37,gt,4,1),e()()(),n(38,"mat-card",12)(39,"mat-card-content")(40,"div",6)(41,"mat-icon"),i(42,"photo_library"),e()(),n(43,"div",7)(44,"div",8),i(45,"Total Photos"),e(),n(46,"div",13),i(47),e(),n(48,"div",14),i(49,"Across 6 categories"),e()()()()(),n(50,"mat-card",15)(51,"mat-card-content")(52,"div",16)(53,"div",17)(54,"mat-icon"),i(55,"insights"),e(),n(56,"div")(57,"h3"),i(58,"View Detailed Analytics"),e(),n(59,"p"),i(60,"See comprehensive traffic insights, top pages, and Google Analytics setup"),e()()(),n(61,"button",18)(62,"mat-icon"),i(63,"arrow_forward"),e(),i(64," Go to Analytics "),e()()()(),n(65,"mat-card",19)(66,"mat-card-header")(67,"mat-card-title"),i(68,"Recent Orders"),e(),n(69,"button",20),i(70,"View All"),e()(),n(71,"mat-card-content")(72,"table",21),l(73,22),d(74,pt,2,0,"th",23)(75,ft,2,1,"td",24),m(),l(76,25),d(77,Ct,2,0,"th",23)(78,_t,2,1,"td",24),m(),l(79,26),d(80,ut,2,0,"th",23)(81,ht,2,1,"td",24),m(),l(82,27),d(83,Mt,2,0,"th",23)(84,Ot,2,1,"td",24),m(),l(85,28),d(86,Pt,2,0,"th",23)(87,xt,4,5,"td",24),m(),l(88,29),d(89,bt,2,0,"th",23)(90,vt,3,4,"td",24),m(),d(91,yt,1,0,"tr",30)(92,wt,1,0,"tr",31),e()()()()),g&2&&(r(16),_(c.loadingAnalytics?16:17),r(10),_(c.loadingAnalytics?26:27),r(10),_(c.loadingAnalytics?36:37),r(11),s(c.stats.totalPhotos),r(25),u("dataSource",c.recentOrders),r(19),u("matHeaderRowDef",c.displayedColumns),r(),u("matRowDefColumns",c.displayedColumns))},dependencies:[D,R,q,$,V,H,j,L,z,I,N,B,nt,G,K,Y,Q,J,Z,U,X,tt,et,at,it,F,W,k,S],styles:[".admin-page[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:0}.admin-page-header[_ngcontent-%COMP%]{margin-bottom:32px;display:flex;align-items:flex-start;justify-content:space-between;gap:16px}.admin-page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.admin-page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Prata,serif;font-size:36px;color:#616e76;margin:0 0 8px}.admin-page-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-size:16px;color:#999;margin:0}.admin-page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;flex-shrink:0}.admin-page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-weight:800}.admin-page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.page-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px}.stat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:24px!important}.stat-card[_ngcontent-%COMP%]     mat-spinner circle{stroke:#e2bf55!important}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:12px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px;color:#fff}.stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-size:14px;color:#999;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-weight:800;font-size:32px;color:#616e76;line-height:1;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-change[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-size:12px;font-weight:600}.stat-card[_ngcontent-%COMP%]   .stat-change.positive[_ngcontent-%COMP%]{color:#4caf50}.stat-card[_ngcontent-%COMP%]   .stat-change.neutral[_ngcontent-%COMP%]{color:#999}.stat-card[_ngcontent-%COMP%]   .stat-change.warning[_ngcontent-%COMP%]{color:#ff9800}@media(max-width:768px){.admin-page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.admin-page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px}.admin-page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;flex-direction:column}.admin-page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px;margin-bottom:32px}.analytics-quick-link[_ngcontent-%COMP%]{margin-bottom:32px}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:24px}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#e2bf55}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Prata,serif;font-size:18px;color:#616e76;margin:0 0 4px}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]   .link-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-size:14px;color:#999;margin:0}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex-shrink:0}.stat-card.orders[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.revenue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.photos[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.pending[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.visitors[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.visitors-week[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.pageviews[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e2bf55,#ff9800)}.quick-actions[_ngcontent-%COMP%]{margin-bottom:32px}.quick-actions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:Prata,serif;font-size:24px;color:#616e76;margin:0 0 16px}.quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px}.quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-weight:800}.quick-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.recent-orders[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.recent-orders[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-family:Prata,serif;font-size:24px;color:#616e76;margin:0}.recent-orders[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-weight:800;color:#e2bf55}.recent-orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{width:100%}.recent-orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-weight:800;font-size:14px;color:#616e76}.recent-orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-size:14px;color:#666}.recent-orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]{cursor:pointer;transition:background .2s ease}.recent-orders[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .order-row[_ngcontent-%COMP%]:hover{background:#e2bf550d}.recent-orders[_ngcontent-%COMP%]   mat-chip[_ngcontent-%COMP%]{font-family:Barlow,sans-serif;font-weight:700;font-size:12px}.recent-orders[_ngcontent-%COMP%]   mat-chip.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.recent-orders[_ngcontent-%COMP%]   mat-chip.status-processing[_ngcontent-%COMP%]{background:#cfe2ff;color:#084298}.recent-orders[_ngcontent-%COMP%]   mat-chip.status-shipped[_ngcontent-%COMP%]{background:#d1e7dd;color:#0f5132}.recent-orders[_ngcontent-%COMP%]   mat-chip.status-completed[_ngcontent-%COMP%]{background:#d1e7dd;color:#0a3622}@media(max-width:768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.analytics-quick-link[_ngcontent-%COMP%]   .quick-link-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})}return t})();export{Gt as AdminDashboardComponent};
