import{a as r}from"./chunk-ZAQJCETW.js";import{L as c,O as p,Yb as g,r as a}from"./chunk-KLI6WXR5.js";var d=(()=>{class o{http;constructor(t){this.http=t}getCategories(){return this.http.get(`${r.apiUrl}/categories`).pipe(a(t=>{if(t.success)return t.data.categories;throw new Error("Failed to fetch categories")}))}getCategoryById(t){return console.log("CategoryService: Fetching category by ID:",t),this.http.get(`${r.apiUrl}/categories/${t}`).pipe(a(e=>{if(console.log("CategoryService: Received response:",e),e.success)return e.data.category;throw new Error("Failed to fetch category")}))}createCategory(t){return this.http.post(`${r.apiUrl}/categories/create`,t).pipe(a(e=>{if(e.success)return e.data.category;throw new Error("Failed to create category")}))}updateCategory(t,e){return this.http.put(`${r.apiUrl}/categories/${t}/update`,e).pipe(a(i=>{if(i.success)return i.data.category;throw new Error("Failed to update category")}))}deleteCategory(t){return this.http.delete(`${r.apiUrl}/categories/${t}/delete`).pipe(a(e=>{if(!e.success)throw new Error("Failed to delete category")}))}uploadCategoryImage(t){let e=new FormData;return e.append("image",t),this.http.post(`${r.apiUrl}/categories/upload-image`,e).pipe(a(i=>{if(i.success)return i.data;throw new Error("Failed to upload image")}))}getCategoryImageUrl(t){return`${r.apiUrl}/photos/image?key=${encodeURIComponent(t)}`}static \u0275fac=function(e){return new(e||o)(p(g))};static \u0275prov=c({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{d as a};
