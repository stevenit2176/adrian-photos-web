import{$ as F,$a as pr,A as bt,Aa as lr,Ab as mr,B as tr,Ba as di,C as rt,Ca as qt,D as ci,Da as st,Db as Ce,Ea as at,Eb as It,Fa as fi,G as hi,H as G,Hb as _r,I as Wt,Ia as cr,J as P,Jb as yr,K as D,Ka as hr,Kb as At,L as er,La as ur,Ma as Xt,N as y,Na as dr,O as nt,P as ir,Q as k,R as ut,Rb as wr,S as d,T as rr,U as L,Ua as fr,Ub as Cr,V as j,Vb as Rr,Wb as Gt,Xb as ft,Yb as Sr,Zb as pi,_ as Z,_b as gi,a as f,aa as _e,b as I,ba as nr,ca as K,cc as br,d as S,da as W,e as Rt,ea as ye,ec as vi,f as Zi,fa as Et,fc as mi,g as ge,h as O,ha as Q,i as A,ia as Ot,j as N,ja as Dt,jc as Er,k as $,ka as or,l as m,la as ot,m as St,n as ve,na as sr,o as Ki,p as C,pa as ar,pc as R,q as Qi,r as it,s as Ji,sa as kt,t as me,ua as dt,va as Yt,w as H,wa as xt,x as ai,xb as gr,y as X,ya as Pt,yb as we,z as li,za as ui,zb as vr}from"./chunk-GY42VP45.js";var p="primary",le=Symbol("RouteTitle"),Ri=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function vt(r){return new Ri(r)}function _i(r,e,t){for(let i=0;i<r.length;i++){let n=r[i],o=e[i];if(n[0]===":")t[n.substring(1)]=o;else if(n!==o.path)return!1}return!0}function Nr(r,e,t){let i=t.path.split("/"),n=i.indexOf("**");if(n===-1){if(i.length>r.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<r.length))return null;let l={},c=r.slice(0,i.length);return _i(i,c,l)?{consumed:c,posParams:l}:null}if(n!==i.lastIndexOf("**"))return null;let o=i.slice(0,n),s=i.slice(n+1);if(o.length+s.length>r.length||t.pathMatch==="full"&&e.hasChildren()&&t.path!=="**")return null;let a={};return!_i(o,r.slice(0,o.length),a)||!_i(s,r.slice(r.length-s.length),a)?null:{consumed:r,posParams:a}}function De(r){return new Promise((e,t)=>{r.pipe(rt()).subscribe({next:i=>e(i),error:i=>t(i)})})}function Qn(r,e){if(r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(!Y(r[t],e[t]))return!1;return!0}function Y(r,e){let t=r?Si(r):void 0,i=e?Si(e):void 0;if(!t||!i||t.length!=i.length)return!1;let n;for(let o=0;o<t.length;o++)if(n=t[o],!Lr(r[n],e[n]))return!1;return!0}function Si(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Lr(r,e){if(Array.isArray(r)&&Array.isArray(e)){if(r.length!==e.length)return!1;let t=[...r].sort(),i=[...e].sort();return t.every((n,o)=>i[o]===n)}else return r===e}function Jn(r){return r.length>0?r[r.length-1]:null}function yt(r){return ve(r)?r:hr(r)?$(Promise.resolve(r)):m(r)}function jr(r){return ve(r)?De(r):Promise.resolve(r)}var to={exact:Fr,subset:zr},Ur={exact:eo,subset:io,ignored:()=>!0};function Or(r,e,t){return to[t.paths](r.root,e.root,t.matrixParams)&&Ur[t.queryParams](r.queryParams,e.queryParams)&&!(t.fragment==="exact"&&r.fragment!==e.fragment)}function eo(r,e){return Y(r,e)}function Fr(r,e,t){if(!pt(r.segments,e.segments)||!be(r.segments,e.segments,t)||r.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!r.children[i]||!Fr(r.children[i],e.children[i],t))return!1;return!0}function io(r,e){return Object.keys(e).length<=Object.keys(r).length&&Object.keys(e).every(t=>Lr(r[t],e[t]))}function zr(r,e,t){return Br(r,e,e.segments,t)}function Br(r,e,t,i){if(r.segments.length>t.length){let n=r.segments.slice(0,t.length);return!(!pt(n,t)||e.hasChildren()||!be(n,t,i))}else if(r.segments.length===t.length){if(!pt(r.segments,t)||!be(r.segments,t,i))return!1;for(let n in e.children)if(!r.children[n]||!zr(r.children[n],e.children[n],i))return!1;return!0}else{let n=t.slice(0,r.segments.length),o=t.slice(r.segments.length);return!pt(r.segments,n)||!be(r.segments,n,i)||!r.children[p]?!1:Br(r.children[p],e,o,i)}}function be(r,e,t){return e.every((i,n)=>Ur[t](r[n].parameters,i.parameters))}var B=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){return oo.serialize(this)}},_=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ee(this)}},lt=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=vt(this.parameters),this._parameterMap}toString(){return $r(this)}};function ro(r,e){return pt(r,e)&&r.every((t,i)=>Y(t.parameters,e[i].parameters))}function pt(r,e){return r.length!==e.length?!1:r.every((t,i)=>t.path===e[i].path)}function no(r,e){let t=[];return Object.entries(r.children).forEach(([i,n])=>{i===p&&(t=t.concat(e(n,i)))}),Object.entries(r.children).forEach(([i,n])=>{i!==p&&(t=t.concat(e(n,i)))}),t}var ce=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:()=>new ct,providedIn:"root"})}return r})(),ct=class{parse(e){let t=new Ei(e);return new B(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Zt(e.root,!0)}`,i=lo(e.queryParams),n=typeof e.fragment=="string"?`#${so(e.fragment)}`:"";return`${t}${i}${n}`}},oo=new ct;function Ee(r){return r.segments.map(e=>$r(e)).join("/")}function Zt(r,e){if(!r.hasChildren())return Ee(r);if(e){let t=r.children[p]?Zt(r.children[p],!1):"",i=[];return Object.entries(r.children).forEach(([n,o])=>{n!==p&&i.push(`${n}:${Zt(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=no(r,(i,n)=>n===p?[Zt(r.children[p],!1)]:[`${n}:${Zt(i,!1)}`]);return Object.keys(r.children).length===1&&r.children[p]!=null?`${Ee(r)}/${t[0]}`:`${Ee(r)}/(${t.join("//")})`}}function Vr(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Re(r){return Vr(r).replace(/%3B/gi,";")}function so(r){return encodeURI(r)}function bi(r){return Vr(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Oe(r){return decodeURIComponent(r)}function Dr(r){return Oe(r.replace(/\+/g,"%20"))}function $r(r){return`${bi(r.path)}${ao(r.parameters)}`}function ao(r){return Object.entries(r).map(([e,t])=>`;${bi(e)}=${bi(t)}`).join("")}function lo(r){let e=Object.entries(r).map(([t,i])=>Array.isArray(i)?i.map(n=>`${Re(t)}=${Re(n)}`).join("&"):`${Re(t)}=${Re(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var co=/^[^\/()?;#]+/;function yi(r){let e=r.match(co);return e?e[0]:""}var ho=/^[^\/()?;=#]+/;function uo(r){let e=r.match(ho);return e?e[0]:""}var fo=/^[^=?&#]+/;function po(r){let e=r.match(fo);return e?e[0]:""}var go=/^[^&#]+/;function vo(r){let e=r.match(go);return e?e[0]:""}var Ei=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _([],{}):new _([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[p]=new _(e,t)),i}parseSegment(){let e=yi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new lt(Oe(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=uo(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let n=yi(this.remaining);n&&(i=n,this.capture(i))}e[Oe(t)]=Oe(i)}parseQueryParam(e){let t=po(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=vo(this.remaining);s&&(i=s,this.capture(i))}let n=Dr(t),o=Dr(i);if(e.hasOwnProperty(n)){let s=e[n];Array.isArray(s)||(s=[s],e[n]=s),s.push(o)}else e[n]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=yi(this.remaining),n=this.remaining[i.length];if(n!=="/"&&n!==")"&&n!==";")throw new D(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=p);let s=this.parseChildren();t[o??p]=Object.keys(s).length===1&&s[p]?s[p]:new _([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function Hr(r){return r.segments.length>0?new _([],{[p]:r}):r}function Wr(r){let e={};for(let[i,n]of Object.entries(r.children)){let o=Wr(n);if(i===p&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new _(r.segments,e);return mo(t)}function mo(r){if(r.numberOfChildren===1&&r.children[p]){let e=r.children[p];return new _(r.segments.concat(e.segments),e.children)}return r}function ht(r){return r instanceof B}function Yr(r,e,t=null,i=null,n=new ct){let o=qr(r);return Xr(o,e,t,i,n)}function qr(r){let e;function t(o){let s={};for(let l of o.children){let c=t(l);s[l.outlet]=c}let a=new _(o.url,s);return o===r&&(e=a),a}let i=t(r.root),n=Hr(i);return e??n}function Xr(r,e,t,i,n){let o=r;for(;o.parent;)o=o.parent;if(e.length===0)return wi(o,o,o,t,i,n);let s=_o(e);if(s.toRoot())return wi(o,o,new _([],{}),t,i,n);let a=yo(s,o,r),l=a.processChildren?Qt(a.segmentGroup,a.index,s.commands):Zr(a.segmentGroup,a.index,s.commands);return wi(o,a.segmentGroup,l,t,i,n)}function ke(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function ee(r){return typeof r=="object"&&r!=null&&r.outlets}function kr(r,e,t){r||="\u0275";let i=new B;return i.queryParams={[r]:e},t.parse(t.serialize(i)).queryParams[r]}function wi(r,e,t,i,n,o){let s={};for(let[c,h]of Object.entries(i??{}))s[c]=Array.isArray(h)?h.map(u=>kr(c,u,o)):kr(c,h,o);let a;r===e?a=t:a=Gr(r,e,t);let l=Hr(Wr(a));return new B(l,s,n)}function Gr(r,e,t){let i={};return Object.entries(r.children).forEach(([n,o])=>{o===e?i[n]=t:i[n]=Gr(o,e,t)}),new _(r.segments,i)}var xe=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&ke(i[0]))throw new D(4003,!1);let n=i.find(ee);if(n&&n!==Jn(i))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _o(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new xe(!0,0,r);let e=0,t=!1,i=r.reduce((n,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...n,{outlets:a}]}if(o.segmentPath)return[...n,o.segmentPath]}return typeof o!="string"?[...n,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&n.push(a))}),n):[...n,o]},[]);return new xe(t,e,i)}var Tt=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function yo(r,e,t){if(r.isAbsolute)return new Tt(e,!0,0);if(!t)return new Tt(e,!1,NaN);if(t.parent===null)return new Tt(t,!0,0);let i=ke(r.commands[0])?0:1,n=t.segments.length-1+i;return wo(t,n,r.numberOfDoubleDots)}function wo(r,e,t){let i=r,n=e,o=t;for(;o>n;){if(o-=n,i=i.parent,!i)throw new D(4005,!1);n=i.segments.length}return new Tt(i,!1,n-o)}function Co(r){return ee(r[0])?r[0].outlets:{[p]:r}}function Zr(r,e,t){if(r??=new _([],{}),r.segments.length===0&&r.hasChildren())return Qt(r,e,t);let i=Ro(r,e,t),n=t.slice(i.commandIndex);if(i.match&&i.pathIndex<r.segments.length){let o=new _(r.segments.slice(0,i.pathIndex),{});return o.children[p]=new _(r.segments.slice(i.pathIndex),r.children),Qt(o,0,n)}else return i.match&&n.length===0?new _(r.segments,{}):i.match&&!r.hasChildren()?Oi(r,e,t):i.match?Qt(r,0,n):Oi(r,e,t)}function Qt(r,e,t){if(t.length===0)return new _(r.segments,{});{let i=Co(t),n={};if(Object.keys(i).some(o=>o!==p)&&r.children[p]&&r.numberOfChildren===1&&r.children[p].segments.length===0){let o=Qt(r.children[p],e,t);return new _(r.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(n[o]=Zr(r.children[o],e,s))}),Object.entries(r.children).forEach(([o,s])=>{i[o]===void 0&&(n[o]=s)}),new _(r.segments,n)}}function Ro(r,e,t){let i=0,n=e,o={match:!1,pathIndex:0,commandIndex:0};for(;n<r.segments.length;){if(i>=t.length)return o;let s=r.segments[n],a=t[i];if(ee(a))break;let l=`${a}`,c=i<t.length-1?t[i+1]:null;if(n>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Pr(l,c,s))return o;i+=2}else{if(!Pr(l,{},s))return o;i++}n++}return{match:!0,pathIndex:n,commandIndex:i}}function Oi(r,e,t){let i=r.segments.slice(0,e),n=0;for(;n<t.length;){let o=t[n];if(ee(o)){let l=So(o.outlets);return new _(i,l)}if(n===0&&ke(t[0])){let l=r.segments[e];i.push(new lt(l.path,xr(t[0]))),n++;continue}let s=ee(o)?o.outlets[p]:`${o}`,a=n<t.length-1?t[n+1]:null;s&&a&&ke(a)?(i.push(new lt(s,xr(a))),n+=2):(i.push(new lt(s,{})),n++)}return new _(i,{})}function So(r){let e={};return Object.entries(r).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Oi(new _([],{}),0,i))}),e}function xr(r){let e={};return Object.entries(r).forEach(([t,i])=>e[t]=`${i}`),e}function Pr(r,e,t){return r==t.path&&Y(e,t.parameters)}var Jt="imperative",E=(function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r})(E||{}),T=class{id;url;constructor(e,t){this.id=e,this.url=t}},mt=class extends T{type=E.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",n=null){super(e,t),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},q=class extends T{urlAfterRedirects;type=E.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},x=(function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r[r.Aborted=4]="Aborted",r})(x||{}),ie=(function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r})(ie||{}),U=class extends T{reason;code;type=E.NavigationCancel;constructor(e,t,i,n){super(e,t),this.reason=i,this.code=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function Kr(r){return r instanceof U&&(r.code===x.Redirect||r.code===x.SupersededByNewNavigation)}var tt=class extends T{reason;code;type=E.NavigationSkipped;constructor(e,t,i,n){super(e,t),this.reason=i,this.code=n}},_t=class extends T{error;target;type=E.NavigationError;constructor(e,t,i,n){super(e,t),this.error=i,this.target=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lt=class extends T{urlAfterRedirects;state;type=E.RoutesRecognized;constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pe=class extends T{urlAfterRedirects;state;type=E.GuardsCheckStart;constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ie=class extends T{urlAfterRedirects;state;shouldActivate;type=E.GuardsCheckEnd;constructor(e,t,i,n,o){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ae=class extends T{urlAfterRedirects;state;type=E.ResolveStart;constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Me=class extends T{urlAfterRedirects;state;type=E.ResolveEnd;constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Te=class{route;type=E.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ne=class{route;type=E.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Le=class{snapshot;type=E.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},je=class{snapshot;type=E.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ue=class{snapshot;type=E.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fe=class{snapshot;type=E.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var jt=class{},Ut=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function bo(r){return!(r instanceof jt)&&!(r instanceof Ut)}var ze=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Bt(this.rootInjector)}},Bt=(()=>{class r{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let n=this.getOrCreateContext(t);n.outlet=i,this.contexts.set(t,n)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new ze(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||r)(ut(L))};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Be=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Di(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Di(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=ki(e,this._root);return t.length<2?[]:t[t.length-2].children.map(n=>n.value).filter(n=>n!==e)}pathFromRoot(e){return ki(e,this._root).map(t=>t.value)}};function Di(r,e){if(r===e.value)return e;for(let t of e.children){let i=Di(r,t);if(i)return i}return null}function ki(r,e){if(r===e.value)return[e];for(let t of e.children){let i=ki(r,t);if(i.length)return i.unshift(e),i}return[]}var M=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Mt(r){let e={};return r&&r.children.forEach(t=>e[t.value.outlet]=t),e}var re=class extends Be{snapshot;constructor(e,t){super(e),this.snapshot=t,Li(this,e)}toString(){return this.snapshot.toString()}};function Qr(r,e){let t=Eo(r,e),i=new A([new lt("",{})]),n=new A({}),o=new A({}),s=new A({}),a=new A(""),l=new et(i,n,s,a,o,p,r,t.root);return l.snapshot=t.root,new re(new M(l,[]),t)}function Eo(r,e){let t={},i={},n={},s=new gt([],t,n,"",i,p,r,null,{},e);return new ne("",new M(s,[]))}var et=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,n,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=n,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(C(c=>c[le]))??m(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(C(e=>vt(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(C(e=>vt(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ve(r,e,t="emptyOnly"){let i,{routeConfig:n}=r;return e!==null&&(t==="always"||n?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:f(f({},e.params),r.params),data:f(f({},e.data),r.data),resolve:f(f(f(f({},r.data),e.data),n?.data),r._resolvedData)}:i={params:f({},r.params),data:f({},r.data),resolve:f(f({},r.data),r._resolvedData??{})},n&&tn(n)&&(i.resolve[le]=n.title),i}var gt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[le]}constructor(e,t,i,n,o,s,a,l,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c,this._environmentInjector=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vt(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ne=class extends Be{url;constructor(e,t){super(t),this.url=e,Li(this,t)}toString(){return Jr(this._root)}};function Li(r,e){e.value._routerState=r,e.children.forEach(t=>Li(r,t))}function Jr(r){let e=r.children.length>0?` { ${r.children.map(Jr).join(", ")} } `:"";return`${r.value}${e}`}function Ci(r){if(r.snapshot){let e=r.snapshot,t=r._futureSnapshot;r.snapshot=t,Y(e.queryParams,t.queryParams)||r.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&r.fragmentSubject.next(t.fragment),Y(e.params,t.params)||r.paramsSubject.next(t.params),Qn(e.url,t.url)||r.urlSubject.next(t.url),Y(e.data,t.data)||r.dataSubject.next(t.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function xi(r,e){let t=Y(r.params,e.params)&&ro(r.url,e.url),i=!r.parent!=!e.parent;return t&&!i&&(!r.parent||xi(r.parent,e.parent))}function tn(r){return typeof r.title=="string"||r.title===null}var en=new k(""),ji=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=p;activateEvents=new K;deactivateEvents=new K;attachEvents=new K;detachEvents=new K;routerOutletData=mr();parentContexts=d(Bt);location=d(Pt);changeDetector=d(Ce);inputBinder=d(Ye,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:n}=t.name;if(i)return;this.isTrackedInParentContexts(n)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(n)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let n=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Pi(t,a,n.injector,this.routerOutletData);this.activated=n.createComponent(s,{index:n.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||r)};static \u0275dir=at({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ot]})}return r})(),Pi=class{route;childContexts;parent;outletData;constructor(e,t,i,n){this.route=e,this.childContexts=t,this.parent=i,this.outletData=n}get(e,t){return e===et?this.route:e===Bt?this.childContexts:e===en?this.outletData:this.parent.get(e,t)}},Ye=new k("");var Ui=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=qt({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,n){i&1&&fr(0,"router-outlet")},dependencies:[ji],encapsulation:2})}return r})();function Fi(r){let e=r.children&&r.children.map(Fi),t=e?I(f({},r),{children:e}):f({},r);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==p&&(t.component=Ui),t}function Oo(r,e,t){let i=oe(r,e._root,t?t._root:void 0);return new re(i,e)}function oe(r,e,t){if(t&&r.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let n=Do(r,e,t);return new M(i,n)}else{if(r.shouldAttach(e.value)){let o=r.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>oe(r,a)),s}}let i=ko(e.value),n=e.children.map(o=>oe(r,o));return new M(i,n)}}function Do(r,e,t){return e.children.map(i=>{for(let n of t.children)if(r.shouldReuseRoute(i.value,n.value.snapshot))return oe(r,i,n);return oe(r,i)})}function ko(r){return new et(new A(r.url),new A(r.params),new A(r.queryParams),new A(r.fragment),new A(r.data),r.outlet,r.component,r)}var Ft=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},rn="ngNavigationCancelingError";function $e(r,e){let{redirectTo:t,navigationBehaviorOptions:i}=ht(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,n=nn(!1,x.Redirect);return n.url=t,n.navigationBehaviorOptions=i,n}function nn(r,e){let t=new Error(`NavigationCancelingError: ${r||""}`);return t[rn]=!0,t.cancellationCode=e,t}function xo(r){return on(r)&&ht(r.url)}function on(r){return!!r&&r[rn]}var Ii=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Ci(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let n=Mt(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,n[s],i),delete n[s]}),Object.values(n).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let n=e.value,o=t?t.value:null;if(n===o)if(n.component){let s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),n=i&&e.value.component?i.children:t,o=Mt(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),n=i&&e.value.component?i.children:t,o=Mt(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,n);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let n=Mt(t);e.children.forEach(o=>{this.activateRoutes(o,n[o.value.outlet],i),this.forwardEvent(new Fe(o.value.snapshot))}),e.children.length&&this.forwardEvent(new je(e.value.snapshot))}activateRoutes(e,t,i){let n=e.value,o=t?t.value:null;if(Ci(n),n===o)if(n.component){let s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(n.component){let s=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){let a=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ci(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=n,s.outlet&&s.outlet.activateWith(n,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},He=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Nt=class{component;route;constructor(e,t){this.component=e,this.route=t}};function Po(r,e,t){let i=r._root,n=e?e._root:null;return Kt(i,n,t,[i.value])}function Io(r){let e=r.routeConfig?r.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:r,guards:e}}function Vt(r,e){let t=Symbol(),i=e.get(r,t);return i===t?typeof r=="function"&&!ir(r)?r:e.get(r):i}function Kt(r,e,t,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=Mt(e);return r.children.forEach(s=>{Ao(s,o[s.value.outlet],t,i.concat([s.value]),n),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>te(a,t.getContext(s),n)),n}function Ao(r,e,t,i,n={canDeactivateChecks:[],canActivateChecks:[]}){let o=r.value,s=e?e.value:null,a=t?t.getContext(r.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Mo(s,o,o.routeConfig.runGuardsAndResolvers);l?n.canActivateChecks.push(new He(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Kt(r,e,a?a.children:null,i,n):Kt(r,e,t,i,n),l&&a&&a.outlet&&a.outlet.isActivated&&n.canDeactivateChecks.push(new Nt(a.outlet.component,s))}else s&&te(e,a,n),n.canActivateChecks.push(new He(i)),o.component?Kt(r,null,a?a.children:null,i,n):Kt(r,null,t,i,n);return n}function Mo(r,e,t){if(typeof t=="function")return j(e._environmentInjector,()=>t(r,e));switch(t){case"pathParamsChange":return!pt(r.url,e.url);case"pathParamsOrQueryParamsChange":return!pt(r.url,e.url)||!Y(r.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xi(r,e)||!Y(r.queryParams,e.queryParams);default:return!xi(r,e)}}function te(r,e,t){let i=Mt(r),n=r.value;Object.entries(i).forEach(([o,s])=>{n.component?e?te(s,e.children.getContext(o),t):te(s,null,t):te(s,e,t)}),n.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Nt(e.outlet.component,n)):t.canDeactivateChecks.push(new Nt(null,n)):t.canDeactivateChecks.push(new Nt(null,n))}function he(r){return typeof r=="function"}function To(r){return typeof r=="boolean"}function No(r){return r&&he(r.canLoad)}function Lo(r){return r&&he(r.canActivate)}function jo(r){return r&&he(r.canActivateChild)}function Uo(r){return r&&he(r.canDeactivate)}function Fo(r){return r&&he(r.canMatch)}function sn(r){return r instanceof Ki||r?.name==="EmptyError"}var Se=Symbol("INITIAL_VALUE");function zt(){return G(r=>Qi(r.map(e=>e.pipe(bt(1),hi(Se)))).pipe(C(e=>{for(let t of e)if(t!==!0){if(t===Se)return Se;if(t===!1||zo(t))return t}return!0}),H(e=>e!==Se),bt(1)))}function zo(r){return ht(r)||r instanceof Ft}function an(r){return r.aborted?m(void 0).pipe(bt(1)):new ge(e=>{let t=()=>{e.next(),e.complete()};return r.addEventListener("abort",t),()=>r.removeEventListener("abort",t)})}function ln(r){return Wt(an(r))}function Bo(r){return it(e=>{let{targetSnapshot:t,currentSnapshot:i,guards:{canActivateChecks:n,canDeactivateChecks:o}}=e;return o.length===0&&n.length===0?m(I(f({},e),{guardsResult:!0})):Vo(o,t,i).pipe(it(s=>s&&To(s)?$o(t,n,r):m(s)),C(s=>I(f({},e),{guardsResult:s})))})}function Vo(r,e,t){return $(r).pipe(it(i=>Xo(i.component,i.route,t,e)),rt(i=>i!==!0,!0))}function $o(r,e,t){return $(e).pipe(li(i=>Ji(Wo(i.route.parent,t),Ho(i.route,t),qo(r,i.path),Yo(r,i.route))),rt(i=>i!==!0,!0))}function Ho(r,e){return r!==null&&e&&e(new Ue(r)),m(!0)}function Wo(r,e){return r!==null&&e&&e(new Le(r)),m(!0)}function Yo(r,e){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return m(!0);let i=t.map(n=>me(()=>{let o=e._environmentInjector,s=Vt(n,o),a=Lo(s)?s.canActivate(e,r):j(o,()=>s(e,r));return yt(a).pipe(rt())}));return m(i).pipe(zt())}function qo(r,e){let t=e[e.length-1],n=e.slice(0,e.length-1).reverse().map(o=>Io(o)).filter(o=>o!==null).map(o=>me(()=>{let s=o.guards.map(a=>{let l=o.node._environmentInjector,c=Vt(a,l),h=jo(c)?c.canActivateChild(t,r):j(l,()=>c(t,r));return yt(h).pipe(rt())});return m(s).pipe(zt())}));return m(n).pipe(zt())}function Xo(r,e,t,i){let n=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!n||n.length===0)return m(!0);let o=n.map(s=>{let a=e._environmentInjector,l=Vt(s,a),c=Uo(l)?l.canDeactivate(r,e,t,i):j(a,()=>l(r,e,t,i));return yt(c).pipe(rt())});return m(o).pipe(zt())}function Go(r,e,t,i,n){let o=e.canLoad;if(o===void 0||o.length===0)return m(!0);let s=o.map(a=>{let l=Vt(a,r),c=No(l)?l.canLoad(e,t):j(r,()=>l(e,t)),h=yt(c);return n?h.pipe(ln(n)):h});return m(s).pipe(zt(),cn(i))}function cn(r){return Zi(P(e=>{if(typeof e!="boolean")throw $e(r,e)}),C(e=>e===!0))}function Zo(r,e,t,i,n){let o=e.canMatch;if(!o||o.length===0)return m(!0);let s=o.map(a=>{let l=Vt(a,r),c=Fo(l)?l.canMatch(e,t):j(r,()=>l(e,t));return yt(c).pipe(ln(n))});return m(s).pipe(zt(),cn(i))}var J=class r extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,r.prototype)}},se=class r extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,r.prototype)}};function Ko(r){throw new D(4e3,!1)}function Qo(r){throw nn(!1,x.GuardRejected)}var Ai=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){return S(this,null,function*(){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),n.numberOfChildren===0)return i;if(n.numberOfChildren>1||!n.children[p])throw Ko(`${e.redirectTo}`);n=n.children[p]}})}applyRedirectCommands(e,t,i,n,o){return S(this,null,function*(){let s=yield Jo(t,n,o);if(s instanceof B)throw new se(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,i);if(s[0]==="/")throw new se(a);return a})}applyRedirectCreateUrlTree(e,t,i,n){let o=this.createSegmentGroup(e,t.root,i,n);return new B(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([n,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[n]=t[a]}else i[n]=o}),i}createSegmentGroup(e,t,i,n){let o=this.createSegments(e,t.segments,i,n),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,n)}),new _(o,s)}createSegments(e,t,i,n){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,n):this.findOrReturn(o,i))}findPosParam(e,t,i){let n=i[t.path.substring(1)];if(!n)throw new D(4001,!1);return n}findOrReturn(e,t){let i=0;for(let n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}};function Jo(r,e,t){if(typeof r=="string")return Promise.resolve(r);let i=r,{queryParams:n,fragment:o,routeConfig:s,url:a,outlet:l,params:c,data:h,title:u,paramMap:g,queryParamMap:v}=e;return De(yt(j(t,()=>i({params:c,data:h,queryParams:n,fragment:o,routeConfig:s,url:a,outlet:l,title:u,paramMap:g,queryParamMap:v}))))}function ts(r,e){return r.providers&&!r._injector&&(r._injector=di(r.providers,e,`Route: ${r.path}`)),r._injector??e}function z(r){return r.outlet||p}function es(r,e){let t=r.filter(i=>z(i)===e);return t.push(...r.filter(i=>z(i)!==e)),t}var Mi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function is(r,e,t,i,n,o){let s=hn(r,e,t);return s.matched?(i=ts(e,i),Zo(i,e,t,n,o).pipe(C(a=>a===!0?s:f({},Mi)))):m(s)}function hn(r,e,t){if(e.path==="")return e.pathMatch==="full"&&(r.hasChildren()||t.length>0)?f({},Mi):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let n=(e.matcher||Nr)(t,r,e);if(!n)return f({},Mi);let o={};Object.entries(n.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=n.consumed.length>0?f(f({},o),n.consumed[n.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:n.consumed,remainingSegments:t.slice(n.consumed.length),parameters:s,positionalParamSegments:n.posParams??{}}}function Ir(r,e,t,i){return t.length>0&&os(r,t,i)?{segmentGroup:new _(e,ns(i,new _(t,r.children))),slicedSegments:[]}:t.length===0&&ss(r,t,i)?{segmentGroup:new _(r.segments,rs(r,t,i,r.children)),slicedSegments:t}:{segmentGroup:new _(r.segments,r.children),slicedSegments:t}}function rs(r,e,t,i){let n={};for(let o of t)if(qe(r,e,o)&&!i[z(o)]){let s=new _([],{});n[z(o)]=s}return f(f({},i),n)}function ns(r,e){let t={};t[p]=e;for(let i of r)if(i.path===""&&z(i)!==p){let n=new _([],{});t[z(i)]=n}return t}function os(r,e,t){return t.some(i=>qe(r,e,i)&&z(i)!==p)}function ss(r,e,t){return t.some(i=>qe(r,e,i))}function qe(r,e,t){return(r.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function as(r,e,t){return e.length===0&&!r.children[t]}var Ti=class{};function ls(r,e,t,i,n,o,s="emptyOnly",a){return S(this,null,function*(){return new Ni(r,e,t,i,n,s,o,a).recognize()})}var cs=31,Ni=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,n,o,s,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=n,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.abortSignal=l,this.applyRedirects=new Ai(this.urlSerializer,this.urlTree)}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){return S(this,null,function*(){let e=Ir(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:i}=yield this.match(e),n=new M(i,t),o=new ne("",n),s=Yr(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}})}match(e){return S(this,null,function*(){let t=new gt([],Object.freeze({}),Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),p,this.rootComponentType,null,{},this.injector);try{return{children:yield this.processSegmentGroup(this.injector,this.config,e,p,t),rootSnapshot:t}}catch(i){if(i instanceof se)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof J?this.noMatchError(i):i}})}processSegmentGroup(e,t,i,n,o){return S(this,null,function*(){if(i.segments.length===0&&i.hasChildren())return this.processChildren(e,t,i,o);let s=yield this.processSegment(e,t,i,i.segments,n,!0,o);return s instanceof M?[s]:[]})}processChildren(e,t,i,n){return S(this,null,function*(){let o=[];for(let l of Object.keys(i.children))l==="primary"?o.unshift(l):o.push(l);let s=[];for(let l of o){let c=i.children[l],h=es(t,l),u=yield this.processSegmentGroup(e,h,c,l,n);s.push(...u)}let a=un(s);return hs(a),a})}processSegment(e,t,i,n,o,s,a){return S(this,null,function*(){for(let l of t)try{return yield this.processSegmentAgainstRoute(l._injector??e,t,l,i,n,o,s,a)}catch(c){if(c instanceof J||sn(c))continue;throw c}if(as(i,n,o))return new Ti;throw new J(i)})}processSegmentAgainstRoute(e,t,i,n,o,s,a,l){return S(this,null,function*(){if(z(i)!==s&&(s===p||!qe(n,o,i)))throw new J(n);if(i.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,n,i,o,s,l);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,n,t,i,o,s,l);throw new J(n)})}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,o,s,a){return S(this,null,function*(){let{matched:l,parameters:c,consumedSegments:h,positionalParamSegments:u,remainingSegments:g}=hn(t,n,o);if(!l)throw new J(t);typeof n.redirectTo=="string"&&n.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>cs&&(this.allowRedirects=!1));let v=new gt(o,c,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Ar(n),z(n),n.component??n._loadedComponent??null,n,Mr(n),e),w=Ve(v,a,this.paramsInheritanceStrategy);if(v.params=Object.freeze(w.params),v.data=Object.freeze(w.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let b=yield this.applyRedirects.applyRedirectCommands(h,n.redirectTo,u,v,e),V=yield this.applyRedirects.lineralizeSegments(n,b);return this.processSegment(e,i,t,V.concat(g),s,!1,a)})}matchSegmentAgainstRoute(e,t,i,n,o,s){return S(this,null,function*(){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=yield De(is(t,i,n,e,this.urlSerializer,this.abortSignal));if(i.path==="**"&&(t.children={}),!a?.matched)throw new J(t);e=i._injector??e;let{routes:l}=yield this.getChildConfig(e,i,n),c=i._loadedInjector??e,{parameters:h,consumedSegments:u,remainingSegments:g}=a,v=new gt(u,h,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Ar(i),z(i),i.component??i._loadedComponent??null,i,Mr(i),e),w=Ve(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data);let{segmentGroup:b,slicedSegments:V}=Ir(t,u,g,l);if(V.length===0&&b.hasChildren()){let Kn=yield this.processChildren(c,l,b,v);return new M(v,Kn)}if(l.length===0&&V.length===0)return new M(v,[]);let si=z(i)===o,Ht=yield this.processSegment(c,l,b,V,si?p:o,!0,v);return new M(v,Ht instanceof M?[Ht]:[])})}getChildConfig(e,t,i){return S(this,null,function*(){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0){let o=t._loadedNgModuleFactory;return o&&!t._loadedInjector&&(t._loadedInjector=o.create(e).injector),{routes:t._loadedRoutes,injector:t._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(yield De(Go(e,t,i,this.urlSerializer,this.abortSignal))){let o=yield this.configLoader.loadChildren(e,t);return t._loadedRoutes=o.routes,t._loadedInjector=o.injector,t._loadedNgModuleFactory=o.factory,o}throw Qo(t)}return{routes:[],injector:e}})}};function hs(r){r.sort((e,t)=>e.value.outlet===p?-1:t.value.outlet===p?1:e.value.outlet.localeCompare(t.value.outlet))}function us(r){let e=r.value.routeConfig;return e&&e.path===""}function un(r){let e=[],t=new Set;for(let i of r){if(!us(i)){e.push(i);continue}let n=e.find(o=>i.value.routeConfig===o.value.routeConfig);n!==void 0?(n.children.push(...i.children),t.add(n)):e.push(i)}for(let i of t){let n=un(i.children);e.push(new M(i.value,n))}return e.filter(i=>!t.has(i))}function Ar(r){return r.data||{}}function Mr(r){return r.resolve||{}}function ds(r,e,t,i,n,o,s){return it(a=>S(null,null,function*(){let{state:l,tree:c}=yield ls(r,e,t,i,a.extractedUrl,n,o,s);return I(f({},a),{targetSnapshot:l,urlAfterRedirects:c})}))}function fs(r){return it(e=>{let{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return m(e);let n=new Set(i.map(a=>a.route)),o=new Set;for(let a of n)if(!o.has(a))for(let l of dn(a))o.add(l);let s=0;return $(o).pipe(li(a=>n.has(a)?ps(a,t,r):(a.data=Ve(a,a.parent,r).resolve,m(void 0))),P(()=>s++),ci(1),it(a=>s===o.size?m(e):N))})}function dn(r){let e=r.children.map(t=>dn(t)).flat();return[r,...e]}function ps(r,e,t){let i=r.routeConfig,n=r._resolve;return i?.title!==void 0&&!tn(i)&&(n[le]=i.title),me(()=>(r.data=Ve(r,r.parent,t).resolve,gs(n,r,e).pipe(C(o=>(r._resolvedData=o,r.data=f(f({},r.data),o),null)))))}function gs(r,e,t){let i=Si(r);if(i.length===0)return m({});let n={};return $(i).pipe(it(o=>vs(r[o],e,t).pipe(rt(),P(s=>{if(s instanceof Ft)throw $e(new ct,s);n[o]=s}))),ci(1),C(()=>n),X(o=>sn(o)?N:St(o)))}function vs(r,e,t){let i=e._environmentInjector,n=Vt(r,i),o=n.resolve?n.resolve(e,t):j(i,()=>n(e,t));return yt(o)}function Tr(r){return G(e=>{let t=r(e);return t?$(t).pipe(C(()=>e)):m(e)})}var zi=(()=>{class r{buildTitle(t){let i,n=t.root;for(;n!==void 0;)i=this.getResolvedTitleForRoute(n)??i,n=n.children.find(o=>o.outlet===p);return i}getResolvedTitleForRoute(t){return t.data[le]}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:()=>d(fn),providedIn:"root"})}return r})(),fn=(()=>{class r extends zi{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||r)(ut(Cr))};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),$t=new k("",{factory:()=>({})}),ue=new k(""),pn=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=d(gr);loadComponent(t,i){return S(this,null,function*(){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return Promise.resolve(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let n=S(this,null,function*(){try{let o=yield jr(j(t,()=>i.loadComponent())),s=yield mn(vn(o));return this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s,s}finally{this.componentLoaders.delete(i)}});return this.componentLoaders.set(i,n),n})}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Promise.resolve({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let n=S(this,null,function*(){try{let o=yield gn(i,this.compiler,t,this.onLoadEndListener);return i._loadedRoutes=o.routes,i._loadedInjector=o.injector,i._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(i)}});return this.childrenLoaders.set(i,n),n}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function gn(r,e,t,i){return S(this,null,function*(){let n=yield jr(j(t,()=>r.loadChildren())),o=yield mn(vn(n)),s;o instanceof lr||Array.isArray(o)?s=o:s=yield e.compileModuleAsync(o),i&&i(r);let a,l,c=!1,h;return Array.isArray(s)?(l=s,c=!0):(a=s.create(t).injector,h=s,l=a.get(ue,[],{optional:!0,self:!0}).flat()),{routes:l.map(Fi),injector:a,factory:h}})}function ms(r){return r&&typeof r=="object"&&"default"in r}function vn(r){return ms(r)?r.default:r}function mn(r){return S(this,null,function*(){return r})}var Xe=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:()=>d(_s),providedIn:"root"})}return r})(),_s=(()=>{class r{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),_n=new k("");var ys=()=>{},yn=new k(""),wn=(()=>{class r{currentNavigation=Et(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Et(null);events=new O;transitionAbortWithErrorSubject=new O;configLoader=d(pn);environmentInjector=d(L);destroyRef=d(_e);urlSerializer=d(ce);rootContexts=d(Bt);location=d(At);inputBindingEnabled=d(Ye,{optional:!0})!==null;titleStrategy=d(zi);options=d($t,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=d(Xe);createViewTransition=d(_n,{optional:!0});navigationErrorHandler=d(yn,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>m(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=n=>this.events.next(new Te(n)),i=n=>this.events.next(new Ne(n));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;Q(()=>{this.transitions?.next(I(f({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))})}setupNavigations(t){return this.transitions=new A(null),this.transitions.pipe(H(i=>i!==null),G(i=>{let n=!1,o=new AbortController,s=()=>!n&&this.currentTransition?.id===i.id;return m(i).pipe(G(a=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",x.SupersededByNewNavigation),N;this.currentTransition=i;let l=this.lastSuccessfulNavigation();this.currentNavigation.set({id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:l?I(f({},l),{previousNavigation:null}):null,abort:()=>o.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&h!=="reload")return this.events.next(new tt(a.id,this.urlSerializer.serialize(a.rawUrl),"",ie.IgnoredSameUrlNavigation)),a.resolve(!1),N;if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return m(a).pipe(G(u=>(this.events.next(new mt(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?N:Promise.resolve(u))),ds(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),P(u=>{i.targetSnapshot=u.targetSnapshot,i.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(v=>(v.finalUrl=u.urlAfterRedirects,v));let g=new Lt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(g)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:u,extractedUrl:g,source:v,restoredState:w,extras:b}=a,V=new mt(u,this.urlSerializer.serialize(g),v,w);this.events.next(V);let si=Qr(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=i=I(f({},a),{targetSnapshot:si,urlAfterRedirects:g,extras:I(f({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(Ht=>(Ht.finalUrl=g,Ht)),m(i)}else return this.events.next(new tt(a.id,this.urlSerializer.serialize(a.extractedUrl),"",ie.IgnoredByUrlHandlingStrategy)),a.resolve(!1),N}),C(a=>{let l=new Pe(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);return this.events.next(l),this.currentTransition=i=I(f({},a),{guards:Po(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i}),Bo(a=>this.events.next(a)),G(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw $e(this.urlSerializer,a.guardsResult);let l=new Ie(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);if(this.events.next(l),!s())return N;if(!a.guardsResult)return this.cancelNavigationTransition(a,"",x.GuardRejected),N;if(a.guards.canActivateChecks.length===0)return m(a);let c=new Ae(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);if(this.events.next(c),!s())return N;let h=!1;return m(a).pipe(fs(this.paramsInheritanceStrategy),P({next:()=>{h=!0;let u=new Me(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)},complete:()=>{h||this.cancelNavigationTransition(a,"",x.NoDataFromResolver)}}))}),Tr(a=>{let l=h=>{let u=[];if(h.routeConfig?._loadedComponent)h.component=h.routeConfig?._loadedComponent;else if(h.routeConfig?.loadComponent){let g=h._environmentInjector;u.push(this.configLoader.loadComponent(g,h.routeConfig).then(v=>{h.component=v}))}for(let g of h.children)u.push(...l(g));return u},c=l(a.targetSnapshot.root);return c.length===0?m(a):$(Promise.all(c).then(()=>a))}),Tr(()=>this.afterPreactivation()),G(()=>{let{currentSnapshot:a,targetSnapshot:l}=i,c=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return c?$(c).pipe(C(()=>i)):m(i)}),bt(1),C(a=>{let l=Oo(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);this.currentTransition=i=a=I(f({},a),{targetRouterState:l}),this.currentNavigation.update(c=>(c.targetRouterState=l,c)),this.events.next(new jt),s()&&(new Ii(t.routeReuseStrategy,i.targetRouterState,i.currentRouterState,c=>this.events.next(c),this.inputBindingEnabled).activate(this.rootContexts),s()&&(n=!0,this.currentNavigation.update(c=>(c.abort=ys,c)),this.lastSuccessfulNavigation.set(Q(this.currentNavigation)),this.events.next(new q(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)))}),Wt(an(o.signal).pipe(H(()=>!n&&!i.targetRouterState),P(()=>{this.cancelNavigationTransition(i,o.signal.reason+"",x.Aborted)}))),P({complete:()=>{n=!0}}),Wt(this.transitionAbortWithErrorSubject.pipe(P(a=>{throw a}))),tr(()=>{o.abort(),n||this.cancelNavigationTransition(i,"",x.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),X(a=>{if(n=!0,this.destroyed)return i.resolve(!1),N;if(on(a))this.events.next(new U(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),xo(a)?this.events.next(new Ut(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let l=new _t(i.id,this.urlSerializer.serialize(i.extractedUrl),a,i.targetSnapshot??void 0);try{let c=j(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(c instanceof Ft){let{message:h,cancellationCode:u}=$e(this.urlSerializer,c);this.events.next(new U(i.id,this.urlSerializer.serialize(i.extractedUrl),h,u)),this.events.next(new Ut(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return N}))}))}cancelNavigationTransition(t,i,n){let o=new U(t.id,this.urlSerializer.serialize(t.extractedUrl),i,n);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Q(this.currentNavigation),n=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==n?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function ws(r){return r!==Jt}var Cn=new k("");var Rn=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:()=>d(Cs),providedIn:"root"})}return r})(),We=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}shouldDestroyInjector(e){return!0}},Cs=(()=>{class r extends We{static \u0275fac=(()=>{let t;return function(n){return(t||(t=Dt(r)))(n||r)}})();static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bi=(()=>{class r{urlSerializer=d(ce);options=d($t,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=d(At);urlHandlingStrategy=d(Xe);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new B;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:n}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=n??o;return s instanceof B?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:n}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,n),this.routerState=t):this.rawUrlTree=n}routerState=Qr(null,d(L));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:()=>d(Rs),providedIn:"root"})}return r})(),Rs=(()=>{class r extends Bi{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof mt?this.updateStateMemento():t instanceof tt?this.commitTransition(i):t instanceof Lt?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof jt?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof U&&!Kr(t)?this.restoreHistory(i):t instanceof _t?this.restoreHistory(i,!0):t instanceof q&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:n}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=f(f({},s),this.generateNgRouterState(n,a));this.location.replaceState(t,"",l)}else{let a=f(f({},s),this.generateNgRouterState(n,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let n=this.browserPageId,o=this.currentPageId-n;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(n){return(t||(t=Dt(r)))(n||r)}})();static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Vi(r,e){r.events.pipe(H(t=>t instanceof q||t instanceof U||t instanceof _t||t instanceof tt),C(t=>t instanceof q||t instanceof tt?0:(t instanceof U?t.code===x.Redirect||t.code===x.SupersededByNewNavigation:!1)?2:1),H(t=>t!==2),bt(1)).subscribe(()=>{e()})}var Sn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wt=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=d(cr);stateManager=d(Bi);options=d($t,{optional:!0})||{};pendingTasks=d(nr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=d(wn);urlSerializer=d(ce);location=d(At);urlHandlingStrategy=d(Xe);injector=d(L);_events=new O;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=d(Rn);injectorCleanup=d(Cn,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=d(ue,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!d(Ye,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Rt;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let n=this.navigationTransitions.currentTransition,o=Q(this.navigationTransitions.currentNavigation);if(n!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof U&&i.code!==x.Redirect&&i.code!==x.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof q)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(i instanceof Ut){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,n.currentRawUrl),l=f({scroll:n.extras.scroll,browserUrl:n.extras.browserUrl,info:n.extras.info,skipLocationChange:n.extras.skipLocationChange,replaceUrl:n.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ws(n.source)},s);this.scheduleNavigation(a,Jt,null,l,{resolve:n.resolve,reject:n.reject,promise:n.promise})}}bo(i)&&this._events.next(i)}catch(n){this.navigationTransitions.transitionAbortWithErrorSubject.next(n)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,n)=>{this.navigateToSyncWithBrowser(t,n,i)})}navigateToSyncWithBrowser(t,i,n){let o={replaceUrl:!0},s=n?.navigationId?n:null;if(n){let l=f({},n);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o).catch(l=>{this.disposed||this.injector.get(ye)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Q(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Fi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:n,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=f(f({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let u;try{let g=n?n.snapshot:this.routerState.snapshot.root;u=qr(g)}catch(g){(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return Xr(u,t,h,c??null,this.urlSerializer)}navigateByUrl(t,i={skipLocationChange:!1}){let n=ht(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,Jt,null,i)}navigate(t,i={skipLocationChange:!1}){return Ss(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch(i){return this.console.warn(er(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,i){let n;if(i===!0?n=f({},Sn):i===!1?n=f({},bn):n=i,ht(t))return Or(this.currentUrlTree,t,n);let o=this.parseUrl(t);return Or(this.currentUrlTree,o,n)}removeEmptyProps(t){return Object.entries(t).reduce((i,[n,o])=>(o!=null&&(i[n]=o),i),{})}scheduleNavigation(t,i,n,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((u,g)=>{a=u,l=g});let h=this.pendingTasks.add();return Vi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(u=>Promise.reject(u))}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ss(r){for(let e=0;e<r.length;e++)if(r[e]==null)throw new D(4008,!1)}var En=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Et(null);get href(){return Q(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new O;applicationErrorHandler=d(ye);options=d($t,{optional:!0});constructor(t,i,n,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=n,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(d(new vr("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(t=>{t instanceof q&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ht(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,n,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||i||n||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(c=>{this.applicationErrorHandler(c)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let n=this.renderer,o=this.el.nativeElement;i!==null?n.setAttribute(o,t,i):n.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:ht(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||r)(xt(wt),xt(et),or("tabindex"),xt(Yt),xt(ot),xt(yr))};static \u0275dir=at({type:r,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,n){i&1&&pr("click",function(s){return n.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&dr("href",n.reactiveHref(),ar)("target",n.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",It],skipLocationChange:[2,"skipLocationChange","skipLocationChange",It],replaceUrl:[2,"replaceUrl","replaceUrl",It],routerLink:"routerLink"},features:[Ot]})}return r})();var ks=new k("");function xs(r,...e){return rr([{provide:ue,multi:!0,useValue:r},[],{provide:et,useFactory:Ps},{provide:ur,multi:!0,useFactory:Is},e.map(t=>t.\u0275providers)])}function Ps(){return d(wt).routerState.root}function Is(){let r=d(Z);return e=>{let t=r.get(Xt);if(e!==t.components[0])return;let i=r.get(wt),n=r.get(As);r.get(Ms)===1&&i.initialNavigation(),r.get(Ts,null,{optional:!0})?.setUpPreloading(),r.get(ks,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),n.closed||(n.next(),n.complete(),n.unsubscribe())}}var As=new k("",{factory:()=>new O}),Ms=new k("",{factory:()=>1});var Ts=new k("");var al=(()=>{class r{http;router;API_URL="/api/auth";ACCESS_TOKEN_KEY="access_token";REFRESH_TOKEN_KEY="refresh_token";currentUserSubject=new A(null);currentUser$=this.currentUserSubject.asObservable();isAuthenticated=we(()=>!!this.currentUserSubject.value);isAdmin=we(()=>this.currentUserSubject.value?.role==="admin");constructor(t,i){this.http=t,this.router=i,this.loadUserFromStorage()}loadUserFromStorage(){this.getAccessToken()&&this.getCurrentUser().subscribe({next:i=>this.currentUserSubject.next(i),error:()=>this.clearTokens()})}register(t){return this.http.post(`${this.API_URL}/register`,t).pipe(P(i=>{i.success&&i.data&&this.handleAuthResponse(i.data)}),C(i=>{if(!i.success||!i.data)throw new Error(i.error?.message||"Registration failed");return i.data.user}),X(i=>this.handleError(i)))}login(t){return this.http.post(`${this.API_URL}/login`,t).pipe(P(i=>{i.success&&i.data&&this.handleAuthResponse(i.data)}),C(i=>{if(!i.success||!i.data)throw new Error(i.error?.message||"Login failed");return i.data.user}),X(i=>this.handleError(i)))}logout(){let t=this.getRefreshToken();return this.http.post(`${this.API_URL}/logout`,{refreshToken:t}).pipe(P(()=>{this.clearTokens(),this.currentUserSubject.next(null),this.router.navigate(["/"])}),C(()=>{}),X(()=>(this.clearTokens(),this.currentUserSubject.next(null),this.router.navigate(["/"]),St(()=>new Error("Logout failed")))))}refreshToken(){let t=this.getRefreshToken();return t?this.http.post(`${this.API_URL}/refresh`,{refreshToken:t}).pipe(P(i=>{i.success&&i.data&&(this.setAccessToken(i.data.accessToken),this.setRefreshToken(i.data.refreshToken))}),C(i=>{if(!i.success||!i.data)throw new Error("Token refresh failed");return i.data.accessToken}),X(i=>(this.clearTokens(),this.currentUserSubject.next(null),this.router.navigate(["/login"]),this.handleError(i)))):St(()=>new Error("No refresh token available"))}getCurrentUser(){return this.http.get(`${this.API_URL}/me`).pipe(C(t=>{if(!t.success||!t.data)throw new Error("Failed to get user");return t.data.user}),P(t=>this.currentUserSubject.next(t)),X(t=>this.handleError(t)))}handleAuthResponse(t){this.setAccessToken(t.accessToken),this.setRefreshToken(t.refreshToken),this.currentUserSubject.next(t.user)}getAccessToken(){return localStorage.getItem(this.ACCESS_TOKEN_KEY)}setAccessToken(t){localStorage.setItem(this.ACCESS_TOKEN_KEY,t)}getRefreshToken(){return localStorage.getItem(this.REFRESH_TOKEN_KEY)}setRefreshToken(t){localStorage.setItem(this.REFRESH_TOKEN_KEY,t)}clearTokens(){localStorage.removeItem(this.ACCESS_TOKEN_KEY),localStorage.removeItem(this.REFRESH_TOKEN_KEY)}isAuthenticatedSync(){return!!this.getAccessToken()}isAdminSync(){return this.currentUserSubject.value?.role==="admin"}getCurrentUserValue(){return this.currentUserSubject.value}handleError(t){let i="An error occurred";return t.error?.error?.message?i=t.error.error.message:t.error?.message?i=t.error.message:t.message&&(i=t.message),St(()=>new Error(i))}static \u0275fac=function(i){return new(i||r)(ut(wr),ut(wt))};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var de=class{_attachedHost=null;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},$i=class extends de{component;viewContainerRef;injector;projectableNodes;constructor(e,t,i,n){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.projectableNodes=n}},Ge=class extends de{templateRef;viewContainerRef;context;injector;constructor(e,t,i,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},Hi=class extends de{element;constructor(e){super(),this.element=e instanceof ot?e.nativeElement:e}},Ze=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof $i)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Ge)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof Hi)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Ke=class extends Ze{outletElement;_appRef;_defaultInjector;constructor(e,t,i){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=i}attachComponentPortal(e){let t;if(e.viewContainerRef){let i=e.injector||e.viewContainerRef.injector,n=i.get(ui,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:i,ngModuleRef:n,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let i=this._appRef,n=e.injector||this._defaultInjector||Z.NULL,o=n.get(L,i.injector);t=_r(e.component,{elementInjector:n,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),i.attachView(t.hostView),this.setDisposeFn(()=>{i.viewCount>0&&i.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=t.indexOf(i);n!==-1&&t.remove(n)}),this._attachedPortal=e,i}attachDomPortal=e=>{let t=e.element;t.parentNode;let i=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(i,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(t,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var pl=(()=>{class r extends Ze{_moduleRef=d(ui,{optional:!0});_document=d(F);_viewContainerRef=d(Pt);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}attached=new K;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(t){t.setAttachedHost(this);let i=t.viewContainerRef!=null?t.viewContainerRef:this._viewContainerRef,n=i.createComponent(t.component,{index:i.length,injector:t.injector||i.injector,projectableNodes:t.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return i!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),super.setDisposeFn(()=>n.destroy()),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}attachTemplatePortal(t){t.setAttachedHost(this);let i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}attachDomPortal=t=>{let i=t.element;i.parentNode;let n=this._document.createComment("dom-portal");t.setAttachedHost(this),i.parentNode.insertBefore(n,i),this._getRootNode().appendChild(i),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(i,n)})};_getRootNode(){let t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}static \u0275fac=function(i){return new(i||r)};static \u0275dir=at({type:r,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[fi]})}return r})(),Dn=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=st({type:r});static \u0275inj=nt({})}return r})();var Ls=20,Wi=(()=>{class r{_ngZone=d(W);_platform=d(ft);_renderer=d(dt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new O;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=Ls){return this._platform.isBrowser?new ge(i=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let n=t>0?this._scrolled.pipe(ai(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):m()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let n=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(H(o=>!o||n.indexOf(o)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((n,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_scrollableContainsElement(t,i){let n=br(i),o=t.getElementRef().nativeElement;do if(n==o)return!0;while(n=n.parentElement);return!1}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var js=20,fe=(()=>{class r{_platform=d(ft);_listeners;_viewportSize=null;_change=new O;_document=d(F);constructor(){let t=d(W),i=d(dt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let n=o=>this._change.next(o);this._listeners=[i.listen("window","resize",n),i.listen("window","orientationchange",n)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+i,height:n,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),n=t.documentElement,o=n.getBoundingClientRect(),s=-o.top||t.body?.scrollTop||i.scrollY||n.scrollTop||0,a=-o.left||t.body?.scrollLeft||i.scrollX||n.scrollLeft||0;return{top:s,left:a}}change(t=js){return t>0?this._change.pipe(ai(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var kn=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=st({type:r});static \u0275inj=nt({})}return r})(),Yi=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=st({type:r});static \u0275inj=nt({imports:[Gt,kn,Gt,kn]})}return r})();var xn=Sr();function Ln(r){return new Qe(r.get(fe),r.get(F))}var Qe=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=R(-this._previousScrollPosition.left),e.style.top=R(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,i=e.style,n=t.style,o=i.scrollBehavior||"",s=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),xn&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xn&&(i.scrollBehavior=o,n.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}};function jn(r,e){return new Je(r.get(Wi),r.get(W),r.get(fe),e)}var Je=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,i,n){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=n}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(H(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var pe=class{enable(){}disable(){}attach(){}};function qi(r,e){return e.some(t=>{let i=r.bottom<t.top,n=r.top>t.bottom,o=r.right<t.left,s=r.left>t.right;return i||n||o||s})}function Pn(r,e){return e.some(t=>{let i=r.top<t.top,n=r.bottom>t.bottom,o=r.left<t.left,s=r.right>t.right;return i||n||o||s})}function Un(r,e){return new ti(r.get(Wi),r.get(fe),r.get(W),e)}var ti=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,i,n){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=n}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();qi(t,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Fn=(()=>{class r{_injector=d(Z);constructor(){}noop=()=>new pe;close=t=>jn(this._injector,t);block=()=>Ln(this._injector);reposition=t=>Un(this._injector,t);static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),ei=class{positionStrategy;scrollStrategy=new pe;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(e){if(e){let t=Object.keys(e);for(let i of t)e[i]!==void 0&&(this[i]=e[i])}}};var ii=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var zn=(()=>{class r{_attachedOverlays=[];_document=d(F);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Bn=(()=>{class r extends zn{_ngZone=d(W);_renderer=d(dt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let i=this._attachedOverlays;for(let n=i.length-1;n>-1;n--)if(i[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[n]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(n){return(t||(t=Dt(r)))(n||r)}})();static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Vn=(()=>{class r extends zn{_platform=d(ft);_ngZone=d(W);_renderer=d(dt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(t){if(super.add(t),!this._isAttached){let i=this._document.body,n={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(i,"pointerdown",this._pointerDownListener,n),o.listen(i,"click",this._clickListener,n),o.listen(i,"auxclick",this._clickListener,n),o.listen(i,"contextmenu",this._clickListener,n)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=pi(t)};_clickListener=t=>{let i=pi(t),n=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(In(a.overlayElement,i)||In(a.overlayElement,n))break;let l=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(t)):l.next(t)}};static \u0275fac=(()=>{let t;return function(n){return(t||(t=Dt(r)))(n||r)}})();static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function In(r,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,i=e;for(;i;){if(i===r)return!0;i=t&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var $n=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275cmp=qt({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return r})(),Hn=(()=>{class r{_platform=d(ft);_containerElement;_document=d(F);_styleLoader=d(vi);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||gi()){let n=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<n.length;o++)n[o].remove()}let i=this._document.createElement("div");i.classList.add(t),gi()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load($n)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xi=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,i,n){this._renderer=t,this._ngZone=i,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",n)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function Gi(r){return r&&r.nodeType===1}var ri=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new O;_attachments=new O;_detachments=new O;_positionStrategy;_scrollStrategy;_locationChanges=Rt.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new O;_outsidePointerEvents=new O;_afterNextRenderRef;constructor(e,t,i,n,o,s,a,l,c,h=!1,u,g){this._portalOutlet=e,this._host=t,this._pane=i,this._config=n,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=h,this._injector=u,this._renderer=g,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){if(this._disposed)return null;this._attachHost();let t=this._portalOutlet.attach(e);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=kt(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){if(this._disposed)return;let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=f(f({},this._config),e),this._updateElementSize()}setDirection(e){this._config=I(f({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=R(this._config.width),e.height=R(this._config.height),e.minWidth=R(this._config.minWidth),e.minHeight=R(this._config.minHeight),e.maxWidth=R(this._config.maxWidth),e.maxHeight=R(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachHost(){if(!this._host.parentElement){let e=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;Gi(e)?e.after(this._host):e?.type==="parent"?e.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch(e){}}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Xi(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,i){let n=mi(t||[]).filter(o=>!!o);n.length&&(i?e.classList.add(...n):e.classList.remove(...n))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=kt(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},An="cdk-overlay-connected-position-bounding-box",Us=/([A-Za-z%]+)$/;function Wn(r,e){return new ni(e,r.get(fe),r.get(F),r.get(ft),r.get(Hn))}var ni=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new O;_resizeSubscription=Rt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,i,n,o){this._viewportRuler=t,this._document=i,this._platform=n,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(An),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let e=this._originRect,t=this._overlayRect,i=this._viewportRect,n=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,n,a),c=this._getOverlayPoint(l,t,a),h=this._getOverlayFit(c,t,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,c,i)){o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(let c of o){let h=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);h>l&&(l=h,a=c)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ct(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(An),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;e?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(e,this._getOriginPoint(this._originRect,this._containerRect,e))):this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}withPopoverLocation(e){return this._popoverLocation=e,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof ot?this._origin.nativeElement:Gi(this._origin)?this._origin:null}_getOriginPoint(e,t,i){let n;if(i.originX=="center")n=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;n=i.originX=="start"?s:a}t.left<0&&(n-=t.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:n,y:o}}_getOverlayPoint(e,t,i){let n;i.overlayX=="center"?n=-t.width/2:i.overlayX==="start"?n=this._isRtl()?-t.width:0:n=this._isRtl()?0:-t.width;let o;return i.overlayY=="center"?o=-t.height/2:o=i.overlayY=="top"?0:-t.height,{x:e.x+n,y:e.y+o}}_getOverlayFit(e,t,i,n){let o=Tn(t),{x:s,y:a}=e,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(s+=l),c&&(a+=c);let h=0-s,u=s+o.width-i.width,g=0-a,v=a+o.height-i.height,w=this._subtractOverflows(o.width,h,u),b=this._subtractOverflows(o.height,g,v),V=w*b;return{visibleArea:V,isCompletelyWithinViewport:o.width*o.height===V,fitsInViewportVertically:b===o.height,fitsInViewportHorizontally:w==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){let n=i.bottom-t.y,o=i.right-t.x,s=Mn(this._overlayRef.getConfig().minHeight),a=Mn(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=n,c=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&c}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let n=Tn(t),o=this._viewportRect,s=Math.max(e.x+n.width-o.width,0),a=Math.max(e.y+n.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0),h=0,u=0;return n.width<=o.width?h=c||-s:h=e.x<this._getViewportMarginStart()?o.left-i.left-e.x:0,n.height<=o.height?u=l||-a:u=e.y<this._getViewportMarginTop()?o.top-i.top-e.y:0,this._previousPushAmount={x:h,y:u},{x:e.x+h,y:e.y+u}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Fs(this._lastScrollVisibility,i)){let n=new ii(e,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(e,t){let i=this._viewportRect,n=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=i.height-s+this._getViewportMarginBottom();else if(t.overlayY==="bottom")a=i.height-e.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=i.height-a+this._getViewportMarginTop();else{let v=Math.min(i.bottom-e.y+i.top,e.y),w=this._lastBoundingBoxSize.height;o=v*2,s=e.y-v,o>w&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-w/2)}let l=t.overlayX==="start"&&!n||t.overlayX==="end"&&n,c=t.overlayX==="end"&&!n||t.overlayX==="start"&&n,h,u,g;if(c)g=i.width-e.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),h=e.x-this._getViewportMarginStart();else if(l)u=e.x,h=i.right-e.x-this._getViewportMarginEnd();else{let v=Math.min(i.right-e.x+i.left,e.x),w=this._lastBoundingBoxSize.width;h=v*2,u=e.x-v,h>w&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.x-w/2)}return{top:s,left:u,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,t){let i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right="auto",n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;n.width=R(i.width),n.height=R(i.height),n.top=R(i.top)||"auto",n.bottom=R(i.bottom)||"auto",n.left=R(i.left)||"auto",n.right=R(i.right)||"auto",t.overlayX==="center"?n.alignItems="center":n.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?n.justifyContent="center":n.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(n.maxHeight=R(o)),s&&(n.maxWidth=R(s))}this._lastBoundingBoxSize=i,Ct(this._boundingBox.style,n)}_resetBoundingBoxStyles(){Ct(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ct(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let i={},n=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(n){let h=this._viewportRuler.getViewportScrollPosition();Ct(i,this._getExactOverlayY(t,e,h)),Ct(i,this._getExactOverlayX(t,e,h))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(n?i.maxHeight=R(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(n?i.maxWidth=R(s.maxWidth):o&&(i.maxWidth="")),Ct(this._pane.style,i)}_getExactOverlayY(e,t,i){let n={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;n.bottom=`${s-(o.y+this._overlayRect.height)}px`}else n.top=R(o.y);return n}_getExactOverlayX(e,t,i){let n={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;n.right=`${a-(o.x+this._overlayRect.width)}px`}else n.left=R(o.x);return n}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Pn(e,i),isOriginOutsideView:qi(e,i),isOverlayClipped:Pn(t,i),isOverlayOutsideView:qi(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,n)=>i-Math.max(n,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._getViewportMarginTop(),left:i.left+this._getViewportMarginStart(),right:i.left+e-this._getViewportMarginEnd(),bottom:i.top+t-this._getViewportMarginBottom(),width:e-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:t-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&mi(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let e=this._origin;if(e instanceof ot)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}_getContainerRect(){let e=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",t=this._overlayContainer.getContainerElement();e&&(t.style.display="block");let i=t.getBoundingClientRect();return e&&(t.style.display=""),i}};function Ct(r,e){for(let t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r}function Mn(r){if(typeof r!="number"&&r!=null){let[e,t]=r.split(Us);return!t||t==="px"?parseFloat(e):null}return r||null}function Tn(r){return{top:Math.floor(r.top),right:Math.floor(r.right),bottom:Math.floor(r.bottom),left:Math.floor(r.left),width:Math.floor(r.width),height:Math.floor(r.height)}}function Fs(r,e){return r===e?!0:r.isOriginClipped===e.isOriginClipped&&r.isOriginOutsideView===e.isOriginOutsideView&&r.isOverlayClipped===e.isOverlayClipped&&r.isOverlayOutsideView===e.isOverlayOutsideView}var Nn="cdk-global-overlay-wrapper";function Yn(r){return new oi}var oi=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Nn),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:o,maxWidth:s,maxHeight:a}=i,l=(n==="100%"||n==="100vw")&&(!s||s==="100%"||s==="100vw"),c=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,u=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",v="",w="",b="";l?b="flex-start":h==="center"?(b="center",g?w=u:v=u):g?h==="left"||h==="end"?(b="flex-end",v=u):(h==="right"||h==="start")&&(b="flex-start",w=u):h==="left"||h==="start"?(b="flex-start",v=u):(h==="right"||h==="end")&&(b="flex-end",w=u),e.position=this._cssPosition,e.marginLeft=l?"0":v,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":w,t.justifyContent=b,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Nn),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},qn=(()=>{class r{_injector=d(Z);constructor(){}global(){return Yn()}flexibleConnectedTo(t){return Wn(this._injector,t)}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Xn=new k("OVERLAY_DEFAULT_CONFIG");function Gn(r,e){r.get(vi).load($n);let t=r.get(Hn),i=r.get(F),n=r.get(Er),o=r.get(Xt),s=r.get(Rr),a=r.get(Yt,null,{optional:!0})||r.get(dt).createRenderer(null,null),l=new ei(e),c=r.get(Xn,null,{optional:!0})?.usePopover??!0;l.direction=l.direction||s.value,"showPopover"in i.body?l.usePopover=e?.usePopover??c:l.usePopover=!1;let h=i.createElement("div"),u=i.createElement("div");h.id=n.getId("cdk-overlay-"),h.classList.add("cdk-overlay-pane"),u.appendChild(h),l.usePopover&&(u.setAttribute("popover","manual"),u.classList.add("cdk-overlay-popover"));let g=l.usePopover?l.positionStrategy?.getPopoverInsertionPoint?.():null;return Gi(g)?g.after(u):g?.type==="parent"?g.element.appendChild(u):t.getContainerElement().appendChild(u),new ri(new Ke(h,o,r),u,h,l,r.get(W),r.get(Bn),i,r.get(At),r.get(Vn),e?.disableAnimations??r.get(sr,null,{optional:!0})==="NoopAnimations",r.get(L),a)}var Zn=(()=>{class r{scrollStrategies=d(Fn);_positionBuilder=d(qn);_injector=d(Z);constructor(){}create(t){return Gn(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(i){return new(i||r)};static \u0275prov=y({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var zs=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=st({type:r});static \u0275inj=nt({providers:[Zn],imports:[Gt,Dn,Yi,Yi]})}return r})();export{et as a,ji as b,wt as c,En as d,xs as e,$i as f,Ge as g,Ze as h,pl as i,Dn as j,kn as k,Un as l,ei as m,Wn as n,Yn as o,Gn as p,zs as q,al as r};
