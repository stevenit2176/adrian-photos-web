import{a as L}from"./chunk-HDJXMLQ7.js";import{a as R}from"./chunk-LBO3KDKK.js";import"./chunk-ZAQJCETW.js";import{a as A,b as N}from"./chunk-YNNBQ5A3.js";import{a as V,c as B,g as D,h as U}from"./chunk-YDBDHCRP.js";import{$c as j,Ia as g,Ja as e,Ka as n,La as C,Mb as v,Nb as b,R as h,S as _,Sa as f,Tb as w,Ua as M,Wa as m,Xc as E,Zc as z,_b as S,_c as T,ad as F,bc as I,ec as k,fa as y,ga as a,ib as i,jb as d,kb as x,lb as O,ma as l,qa as P,sb as u,va as s}from"./chunk-KPKDHJM6.js";var Y=o=>["/photos",o];function G(o,p){o&1&&(e(0,"div",4),C(1,"mat-spinner"),e(2,"p"),i(3,"Loading category..."),n()())}function K(o,p){if(o&1&&(e(0,"div",5)(1,"mat-icon"),i(2,"error_outline"),n(),e(3,"h2"),i(4),n(),e(5,"button",6)(6,"mat-icon"),i(7,"arrow_back"),n(),i(8," Back to Gallery "),n()()),o&2){let t=m();a(4),d(t.error)}}function Q(o,p){if(o&1){let t=f();e(0,"mat-card",18)(1,"div",19),C(2,"img",20),e(3,"div",21)(4,"mat-icon"),i(5,"visibility"),n(),e(6,"span"),i(7,"View Details"),n()()(),e(8,"mat-card-content")(9,"h3"),i(10),n(),e(11,"p",22),i(12),n(),e(13,"div",23)(14,"span",24),i(15),n(),e(16,"button",25),M("click",function(c){return h(t),c.preventDefault(),_(c.stopPropagation())}),e(17,"mat-icon"),i(18,"add_shopping_cart"),n(),i(19," Quick Add "),n()()()()}if(o&2){let t=p.$implicit,r=m(3);g("routerLink",u(6,Y,t.id)),a(2),g("src",r.getPhotoUrl(t.r2Key),y)("alt",t.title),a(8),d(t.title),a(2),d(t.description),a(3),x("$",t.price.toFixed(2))}}function $(o,p){if(o&1&&(e(0,"div",16),s(1,Q,20,8,"mat-card",17),n()),o&2){let t=m(2);a(),g("ngForOf",t.photos)}}function q(o,p){o&1&&(e(0,"div",26)(1,"mat-icon"),i(2,"photo_library"),n(),e(3,"h2"),i(4,"No photos in this category yet"),n(),e(5,"p"),i(6,"Check back soon for new additions!"),n(),e(7,"button",6),i(8," Browse All Categories "),n()())}function H(o,p){if(o&1){let t=f();e(0,"div",27)(1,"button",28),M("click",function(){h(t);let c=m(2);return _(c.loadMore())}),i(2," Load More Photos "),n()()}}function J(o,p){if(o&1&&(e(0,"div",7)(1,"div",8)(2,"button",9)(3,"mat-icon"),i(4,"arrow_back"),n()(),e(5,"div",10)(6,"h1"),i(7),n(),e(8,"p",11),i(9),n(),e(10,"p",12),i(11),n()()(),s(12,$,2,1,"div",13)(13,q,9,0,"div",14)(14,H,3,0,"div",15),n()),o&2){let t=m();a(7),d(t.category.name),a(2),d(t.category.description),a(2),O("",t.pagination.total," ",t.pagination.total===1?"photo":"photos"),a(),g("ngIf",t.photos.length>0),a(),g("ngIf",t.photos.length===0),a(),g("ngIf",t.pagination.page<t.pagination.totalPages)}}var lt=(()=>{class o{route;categoryService;photoService;category=null;photos=[];loading=!0;error=null;pagination={page:1,limit:20,total:0,totalPages:0};constructor(t,r,c){this.route=t,this.categoryService=r,this.photoService=c}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t?(this.loadCategory(t),this.loadPhotos(t)):(this.error="Category ID not found",this.loading=!1)}loadCategory(t){this.categoryService.getCategoryById(t).subscribe({next:r=>{this.category=r},error:r=>{this.error="Failed to load category",console.error("Error loading category:",r)}})}loadPhotos(t){this.photoService.getPhotos(t,this.pagination.page,this.pagination.limit).subscribe({next:r=>{this.photos=r.photos,this.pagination=r.pagination,this.loading=!1},error:r=>{this.error="Failed to load photos",this.loading=!1,console.error("Error loading photos:",r)}})}getPhotoUrl(t){return this.photoService.getPhotoUrl(t)}loadMore(){this.pagination.page<this.pagination.totalPages&&this.category&&(this.pagination.page++,this.loadPhotos(this.category.id))}static \u0275fac=function(r){return new(r||o)(l(S),l(L),l(R))};static \u0275cmp=P({type:o,selectors:[["app-category"]],decls:4,vars:3,consts:[[1,"category-container"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","category-content",4,"ngIf"],[1,"loading-container"],[1,"error-container"],["mat-raised-button","","color","primary","routerLink","/gallery"],[1,"category-content"],[1,"category-header"],["mat-icon-button","","routerLink","/gallery",1,"back-button"],[1,"header-content"],[1,"category-description"],[1,"photo-count"],["class","photos-grid",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","load-more-container",4,"ngIf"],[1,"photos-grid"],["class","photo-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"photo-card",3,"routerLink"],[1,"photo-image-wrapper"],["mat-card-image","",3,"src","alt"],[1,"photo-overlay"],[1,"photo-description"],[1,"photo-footer"],[1,"price"],["mat-button","","color","primary",3,"click"],[1,"empty-state"],[1,"load-more-container"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,c){r&1&&(e(0,"div",0),s(1,G,4,0,"div",1)(2,K,9,1,"div",2)(3,J,15,7,"div",3),n()),r&2&&(a(),g("ngIf",c.loading),a(),g("ngIf",c.error&&!c.loading),a(),g("ngIf",!c.loading&&!c.error&&c.category))},dependencies:[w,v,b,k,I,U,V,B,D,T,z,E,F,j,N,A],styles:[".category-container[_ngcontent-%COMP%]{min-height:calc(100vh - 64px);padding:2rem;max-width:1400px;margin:0 auto}@media(max-width:768px){.category-container[_ngcontent-%COMP%]{padding:1rem}}.loading-container[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:1.5rem}.loading-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#666}.loading-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .error-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#666}.category-content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.category-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:3rem;padding-bottom:2rem;border-bottom:2px solid #e0e0e0}.category-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{margin-top:.5rem}.category-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.category-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:2.5rem;font-weight:700;color:#333}@media(max-width:768px){.category-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}}.category-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{font-size:1.125rem;color:#666;margin:0 0 .5rem;line-height:1.6}.category-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .photo-count[_ngcontent-%COMP%]{font-size:.875rem;color:#999;margin:0}.photos-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem;margin-bottom:3rem}@media(max-width:768px){.photos-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1.5rem}}.photo-card[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;height:100%;display:flex;flex-direction:column}.photo-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 16px #00000026}.photo-card[_ngcontent-%COMP%]:hover   .photo-overlay[_ngcontent-%COMP%]{opacity:1}.photo-card[_ngcontent-%COMP%]   .photo-image-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;background:#f5f5f5;aspect-ratio:4/3}.photo-card[_ngcontent-%COMP%]   .photo-image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.photo-card[_ngcontent-%COMP%]   .photo-image-wrapper[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(1.05)}.photo-card[_ngcontent-%COMP%]   .photo-image-wrapper[_ngcontent-%COMP%]   .photo-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0009;display:flex;flex-direction:column;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease;color:#fff}.photo-card[_ngcontent-%COMP%]   .photo-image-wrapper[_ngcontent-%COMP%]   .photo-overlay[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:.5rem}.photo-card[_ngcontent-%COMP%]   .photo-image-wrapper[_ngcontent-%COMP%]   .photo-overlay[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1rem;font-weight:500}.photo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;padding:1rem!important}.photo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.25rem;font-weight:600;color:#333}.photo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .photo-description[_ngcontent-%COMP%]{flex:1;margin:0 0 1rem;color:#666;font-size:.875rem;line-height:1.5;display:-webkit-box;-webkit-line-clamp:2;line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.photo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .photo-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:.5rem;border-top:1px solid #e0e0e0}.photo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .photo-footer[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#1976d2}.photo-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .photo-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.25rem}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;text-align:center}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:96px;width:96px;height:96px;color:#ccc;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 1rem;color:#666}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 2rem;color:#999}.load-more-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:2rem 0}.load-more-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:200px}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}"]})}return o})();export{lt as CategoryComponent};
