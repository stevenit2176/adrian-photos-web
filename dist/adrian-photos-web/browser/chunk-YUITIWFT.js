import{a as r}from"./chunk-5GM4WQFN.js";import{$b as n,N as c,Q as p,r as o}from"./chunk-Z7QZQF3E.js";var d=(()=>{class i{http;constructor(t){this.http=t}getCategories(t=!1){let e=t?`${r.apiUrl}/categories?includeInactive=true`:`${r.apiUrl}/categories`;return this.http.get(e).pipe(o(a=>{if(a.success)return a.data.categories;throw new Error("Failed to fetch categories")}))}getCategoryById(t){return console.log("CategoryService: Fetching category by ID:",t),this.http.get(`${r.apiUrl}/categories/${t}`).pipe(o(e=>{if(console.log("CategoryService: Received response:",e),e.success)return e.data.category;throw new Error("Failed to fetch category")}))}createCategory(t){return this.http.post(`${r.apiUrl}/categories/create`,t).pipe(o(e=>{if(e.success)return e.data.category;throw new Error("Failed to create category")}))}updateCategory(t,e){return this.http.put(`${r.apiUrl}/categories/${t}/update`,e).pipe(o(a=>{if(a.success)return a.data.category;throw new Error("Failed to update category")}))}deleteCategory(t){return this.http.delete(`${r.apiUrl}/categories/${t}/delete`).pipe(o(e=>{if(!e.success)throw new Error("Failed to delete category")}))}uploadCategoryImage(t){let e=new FormData;return e.append("image",t),this.http.post(`${r.apiUrl}/categories/upload-image`,e).pipe(o(a=>{if(a.success)return a.data;throw new Error("Failed to upload image")}))}getCategoryImageUrl(t){return`${r.apiUrl}/photos/image?key=${encodeURIComponent(t)}`}static \u0275fac=function(e){return new(e||i)(p(n))};static \u0275prov=c({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();export{d as a};
